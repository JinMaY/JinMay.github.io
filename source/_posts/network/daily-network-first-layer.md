---
title: 신호의 전송과 충돌(1계층 - 물리계층)
tags:
  - network
categories:
  - network
date: 2018-12-09 16:33:06
---

# 1계층 - 물리계층

OSI 참조 모델의 첫 번째 계층 - 물리계층에 대해서 알아보자.

### 전기 / 기계적인 전송

이전에 짧게 살펴본 것처럼, 물리 계층의 역할은 **"전기 / 기계적인 전송을 수행한다."** 였다. 즉, **1계층은 통신 매체(파이프)에 데이터(신호)를 보내는 것과 그 데이터가 지나는 것에 대한 순서와 규칙**이라고 말할 수 있다. 

> 케이블이 연결되어 있는 기기에 신호를 전달하는 것이 1계층의 역할이다.
 

그리고 그 데이터는 신호의 형태로 전송되게 된다. 



### 통신 매체

**신호가 지나는 파이프 역할을 하는 것이 통신 매체이다.** 이러한 파이프는 **유선**과 **무선**으로 나누어진다. 무선은 다루지 않기로 하고 유선의 경우를 생각해보자. 유선은 케이블을 이용해 신호를 주고받는 방식인데, 이 케이블에는 **전기신호를 사용하는 동선**과 **광신호를 사용하는 광파이버(광섬유)** 두 가지가 있다. 

동선은 흔히 **UTP(Unshielded Twist Pair cable)**라고 부르며 8개의 동선으로 이루어져 있다. UTP는 두 개가 한 쌍인 동선 네 쌍으로 이루어져 있고, 일반적으로 가장많이 사용되고 있는 통신매체이다.

광섬유는 **빛 신호를 전달하는 가는 유리 / 플라스틱 섬유의 일종**이다. 신호의 안정과 통신속도에서는 뛰어난 성능을 보이지만, 굽히기가 어렵다는 단점 때문에 UTP에 비하면 보급률이 떨어진다. 

기기가 데이터를 송수신하는 과정에는 통신 매체 뿐만아니라 **인터페이스**도 필요하다. 인터페이스는 **컴퓨터와 통신 매체(케이블) 사이에서 신호를 보내고 받는 역할**을 수행한다. 컴퓨터가 보내고 싶은 데이터를 케이블에 맞는 신호로 변환해서 케이블로 보내고, 케이블에서 보내온 신호를 컴퓨터에서 사용할 수 있게 변환하는 기계가 **인터페이스**이고 보통 컴퓨터에서 사용하는 인터페이스로는 LAN용 케이블에 접속하기 위한 **NIC(Network Interface Card)**가 있다. 



### 신호와 충돌

1계층에서 중요한 키워드는 **통신매체와 신호**라고 할 수 있다. 그리고 인터페이스를 통해 데이터를 신호로 바꾸는 것도 알아보았다. 통신매체(케이블) 속에서 왔다갔다하는 신호는 결국 데이터이며 이러한 데이터는 비트로 표현된다는 것도 공부했다. 지금부터 우리가 사용하는 컴퓨터가 데이터를 표현하기 위해서 사용하는 - 0과 1로 되어있는 - **디지털 신호**에 대해서 알아볼 것이다.

> 신호의 종류에는 **아날라그 신호** / **디지털 신호**가 있다. 
>
> 아날로그 신호는 연속적인 신호이며 디지털 신호는 이산적인 신호이다. 

그리고 이 신호의 형태와 전송방법에 따라서 **통신속도**가 결정된다. 통신속도는 일반적으로 **1초 동안 전송되는 비트 수**로 계산되며 **bps(bit per second)**라는 단위를 사용한다. 언뜻 생각하면 한 개의 신호를 가능한 짧게, 그리고 되도록 많이 표현할 수 있다면 통신속도가 빨라질 것이라고 생각할 수 있다. 하지만 신호가 너무 짧아지면 수신측에서 식별하는 게 힘들어지기 때문에 전송속도에는 한계점이 존재한다.



### 신호에 발생하는 문제

통신 매체를 통해 신호를 주고받다보면 여러가지 문제가 발생할 수 있다. 그 중에서 일반적으로 발생하는 세 가지에 대해서 알아보자.
* 감쇠
동선을 통해 전기신호를 보내면 저항이 발생하게 된다. 그래서 긴 케이블(동선)을 지나는 동안 신호가 약해지는데 그렇게 되면 신호의 진폭의 약해져서 수신측에서 데이터를 못 읽을 수도 있게된다. 이러한 문제점을 해결하기 위하여 **약해진 신호를 다시 강하게 해주는 증폭기를 사용하곤 한다.** 

* 노이즈 / 간섭
전기신호가 어떠한 이유로 인해 형태가 무너져버리는 것이다. 수신측에서는 노이즈가 일어난 신호의 진폭을 정확하게 읽을 수 없게 된다.
노이즈가 발생하는 원인으로는 "근처에 큰 전원 또는 고온의 물체가 옆에 있다거나 / 근처에 신호를 보내는 또 다른 케이블이 있다거나" 하는 게 있다. 신호의 간섭을 방지하기위해 원인으로부터 멀리 두거나 케이블에 특수 가공을 하는 방법을 사용하곤한다. (하지만 광섬유를 통해 발생되는 빛 신호는 위와 같은 이유로 간섭이 발생하지 않는데 위의 노이즈는 전기적인 요인에 의해서 발생하는 것이기 때문이다.)

* 충돌
케이블 하나에 T자 분배기(허브)를 사용해서 여러 대의 기기를 연결하는 **멀티엑세스 네트워크** 환경에서 발생하곤한다. 신호가 보내지고 있는 도중에 다른 신호가 발생되면 충돌이 발생하며, 충돌을 해소하기 위해서 **신호를 보내는 타이밍을 엇갈리게 하거나 신호가 지나는 길을 나누는 방법**을 사용한다. 또한 **충돌을 방지하는 방법은 2계층과 관련된 내용이기도 하다.**



### 허브

멀티엑세스 네트워크 환경을 의미하며 **허브에 연결된 기기는 동일 케이블에 연결되어 있는 것하고 같은 환경이다.** 허브의 케이블 삽입구를 포트라고 부르며 4개의 포트가 있는 허브는 총 4대의 기기를 연결할 수 있는 것이다. 허브의 첫 번재 기능은 **신호의 증폭과 재생**이다.  

* 신호의 증폭 / 재생
감쇠된 신호를 허브를 통해 증폭 / 재생한다. 원래 신호를 증폭하기 위한 기계로 **리피터(Repeater)**가 있는데, 리피터는 허브처럼 여러개의 기기들을 연결할 수 없다는 단점이 있다. 그래서 허브에 신호를 증폭하는 기능을 추가해 사용하곤 한다. 추가로 신호를 증폭 / 재생하지 않는 허브도 있는데, 이런 허브는 **패시브(passive) 허브**라고 부르고, 증폭기능을 하는 허브를 **액티브(active) 허브**라고 부른다.

* 분배기
복수의 기기를 연결해서 네트워크를 구성해주는 역할을 한다. 허브에 연결되어 있는 기기끼리 신호를 주고받을 수 있게 된다. 8포트 허브는 총 8개의 기기들이 하나의 네트워크에 연결될 수 있다.



### 충돌 도메인

허브를 중심으로 여러 대의 기기가 연결되는 네트워크에는 문제점이 존재한다. **허브는 수신한 신호에 대해 어떠한 제어도 하지 않는다.** 라는 점이다. ~~당연한 얘기 같다..~~ 허브는 신호 증폭 이외에는 별 다른 역할을 하지 않기 때문에 신호를 송수신함에 있어서는 어떠한 제어도 하지 않는 것이다. **허브는 수신 포트 이외의 모든 포트에 수신한 신호를 송신하며 이러한 현상을 플러딩(flooding)이라고 한다.**

들어온 하나의 신호가 모든 포트를 통해 나가는게 허브가 해주는 역할(플러딩)인데 만약 두 기기가 동시에 신호를 송신하면 어떻게 될것인가? 신호가 부딪쳐서 **충돌**이 발생하게 될 것이다.

> 같은 허브에 연결되어 있다면 하나의 케이블에 연결되어 있는 것과 마찬가지이기 때문에 두 개 이상의 기기가 동시에 신호를 발생시키면 어딘가에서 신호가 부딪치는 **충돌**현상이 발생하는 것이다.

이처럼 충돌이 발생할지도 모르는 범위를 **충돌 도메인(Collision Domain)**이라고 부른다. 충돌 도메인 내에 있는 기기가 신호를 송신하면 어딘가에서 충돌이 발생할 가능성이 생기는 것이다. 그래서 **같은 허브로 연결되어 있는 기기들은 같은 충돌 도메인 내에 있게 되는 것이다.**

충돌 도메인은 작아야만 하는 것이고, 범위를 줄이기 위해서 컴퓨터의 수를 줄여야 하는데 이는 현실적으로 불가능한 방법이다. 그래서 **스위치**라는 장비를 통해 위와 같은 문제를 해결하며 스위치의 역할은 2계층에서 알아보도록 하자.

> 허브는 여러 대의 기기를 연결하고 신호를 증폭하고 재생하는 역할을 하며 플러딩을 일으킨다.
>
> 허브로 인해서 충돌 도메인이 발생되며, 이러한 충돌 도메인은 작아야만 한다.

